{"version":3,"sources":["meteor://ðŸ’»app/lib/app_loader.js","meteor://ðŸ’»app/imports/api/apps.js","meteor://ðŸ’»app/imports/api/users.js","meteor://ðŸ’»app/server/fixtures.js","meteor://ðŸ’»app/server/methods.js","meteor://ðŸ’»app/server/publications.js","meteor://ðŸ’»app/server/main.js"],"names":["Meteor","isServer","Inject","rawHead","rawBody","Assets","getText","isClient","startup","setTimeout","$","fadeOut","remove","module","export","Apps","Mongo","link","v","Collection","allow","insert","update","userId","space","publish","appsPublication","find","isAdmin","console","log","Roles","userIsInRole","user","roleAssignment","ready","users","count","createRole","unlessExists","adminPassword","settings","username","roles","_","each","id","Accounts","createUser","email","password","profile","name","length","addUsersToRoles","defaultApps","customApp","onlyTeacher","order","doc_user","doc_admin","last_version","url","icon","description","installed","version","hidden","HTTP","fs","Npm","require","exec","cmd","wrapAsync","wifiSettingsPath","readline","methods","adminId","newPassword","setPassword","_id","$set","error","result","message","removeUsersFromRoles","res","data","readFileSync","match","RegExp","SSID","decodeURIComponent","replace","newSSID","encodedNewSSID","Buffer","toString","newData","writeFileSync","channel","newChannel","includes","res2","scriptsPath","json","JSON","parse"],"mappings":"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","file":"/app.js","sourcesContent":["if (Meteor.isServer) {\n\tInject.rawHead(\"metaLoader\", '<meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=0, width=device-width, height=device-height\"/><meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\t<meta name=\"mobile-web-app-capable\" content=\"yes\">');\n\n\tInject.rawBody(\"htmlLoader\", Assets.getText('app_loader.html'));\n}\n\nif (Meteor.isClient) {\n\tMeteor.startup(function() {\n\t\tsetTimeout(function() {\n\t\t\t$(\"#inject-loader-wrapper\").fadeOut(500, function() { $(this).remove(); });\n\t\t}, 700);\n\t});\n}","import { Mongo } from 'meteor/mongo';\n \nexport const Apps = new Mongo.Collection('home-apps');\n\n\n\nApps.allow({\n\n\tinsert: function() { return true},\n\tupdate: function(userId, space) { return true},\n\tremove: function(userId, space) { return true},\n\n\t// insert: function(userId, space) { return ownsDocument(userId, space) || isAdmin(userId); },\n\n\t// update: function(userId, space) { return ownsDocument(userId, space) || isAdmin(userId); },\n\n\t// remove: function(userId, space) { return ownsDocument(userId, space) || isAdmin(userId); }\n});\n\n// Publications\n\nif (Meteor.isServer) {\n  // This code only runs on the server\n  Meteor.publish('allApps', function appsPublication() {\n    return Apps.find();\n  });\n}","import { Mongo } from 'meteor/mongo';\n\n// var usersDB\t= new MongoInternals.RemoteCollectionDriver('mongodb://localhost:27017/beekee-live');\n// var collection\t= usersDB.open('users');\n\n\n//const database = new MongoInternals.RemoteCollectionDriver('mongodb://localhost:27017/beekee-live');\n//const collection = new Mongo.Collection(\"users\", { _driver: database });\n\n//export const Users = new Mongo.Collection(\"users\", { _driver: database });\n\n// Sharing the same Account collection than beekee-live\nif (Meteor.isServer) {\n\n\t// check that the userId specified is admin\nisAdmin = function(userId) {\n\tconsole.log(\"isadmin\");\n  return Roles.userIsInRole(Meteor.user(), 'admin');\n}\n\n\n// Publish Roles to client\nMeteor.publish(null, function () {\n  if (this.userId) {\n    return Meteor.roleAssignment.find({ 'user._id': this.userId });\n  } else {\n    this.ready()\n  }\n});\n\nMeteor.publish(null, function () {\n\t    return Meteor.roleAssignment.find();\n\n});\n\n  // Meteor.publish('allUsers', function () {\n  // \tconsole.log(\"users: \"+Meteor.users.find().count());\n  //   return Meteor.users.find();\n  // });\n\n// Server2 = DDP.connect(\"http://beekee.box:83\");\n// Accounts.connection = Server2;\n\n\n//var database = new MongoInternals.RemoteCollectionDriver('mongodb://localhost:27017/beekee-live');\n//Meteor.users = new Mongo.Collection(\"users\", { _driver: database });\n\n//export const Users = new Mongo.Collection('apps');\n\n\n  // This code only runs on the server\n  // Meteor.publish('allUsers', function () {\n  // \tconsole.log(\"users: \"+Meteor.users.find().count());\n  //   return Meteor.users.find();\n  // });\n}","import { Apps } from '../imports/api/apps.js';\n\n\n// ###  Create admin user at first start  ###\n\n\nif (Meteor.users.find().count() === 0) {\n\t\n\t// Create the admin role\n\tRoles.createRole('admin', {unlessExists: true});\n\n\tvar adminPassword = Meteor.settings.adminPassword;\n\n\tvar users = [\n\t\t{username:\"admin\",roles:['admin']},\n\t];\n\n\t_.each(users, function (user) {\n\t\tvar id;\n\t\tid = Accounts.createUser({\n\t\t\tusername: user.username,\n\t\t\temail: \"Admin\",\n\t\t\tpassword: adminPassword,\n\t\t\tprofile:{name:\"Admin\"}\n\t\t});\n\n\t\tif (user.roles.length > 0) {\n\t\t\tRoles.addUsersToRoles(id, user.roles);\n\t\t}\n\t});\n}\n\n\nif (Apps.find().count() === 0) {\n\n\tvar defaultApps = [\n\t\t{name:\"Live\", customApp:false, onlyTeacher:false, order:1, doc_user:false, doc_admin:false, last_version:\"1.3.3\", url:\"http://live.beekee.box\", icon:\"beekee-live.png\", description:\"Beekee Live promote real-time interaction by allowing learners to express themselves asking questions, posting photos or sharing files.\", installed:true, version: \"1.4\", hidden:false},\n\t\t{name:\"Resources\", customApp:false, onlyTeacher:false, order:2, doc_user:false, doc_admin:false, last_version:\"1.3.3\", url:\"http://resources.beekee.box\", icon:\"beekee-resources.png\", description:\"With Beekee Resources, you can easily share files with your learners.\", installed:true, version: \"0.1\", hidden:false},\n\t\t{name:\"Wheel\", customApp:false, onlyTeacher:true, order:3, doc_user:false, doc_admin:false, last_version:\"0.7\", url:\"http://wheel.beekee.box\", icon:\"beekee-wheel.png\", description:\"Beekee Wheel is a simple random picker wheel that allow you to pick up a random name.\", installed:true, version: \"0.8\", hidden:false},\n\t\t{name:\"Timer\", customApp:false, onlyTeacher:false, order:2, doc_user:false, doc_admin:false, last_version:\"1.3.3\", url:\"http://timer.beekee.box\", icon:\"beekee-timer.png\", description:\"Beekee Timer is a simple timer that lets your learners know how much time they have left.\", installed:true, version: \"0.1\", hidden:false},\n\t\t{name:\"Moodle\", customApp:true, onlyTeacher:false, order:4, doc_user:\"moodle_teacherdoc.pdf\", doc_admin:false, last_version:\"xx\", url:\"http://moodle.beekee.box\", icon:\"moodle.png\", description:\"Moodle is a free, online Learning Management system enabling educators to create their own private website filled with dynamic courses that extend learning, any time, anywhere.\", installed:true, version: \"3.8\", hidden:false},\n\t];\n\n\t_.each(defaultApps, function (defaultApps) {\n\t\tApps.insert(defaultApps);\n\t});\n}","import { HTTP } from 'meteor/http'\n\nMeteor.startup(function() {\n\n\tif (Meteor.isServer) {\n\n\tvar fs = Npm.require('fs');\n\texec = Npm.require('child_process').exec; // No idea what is this ?\n\tcmd = Meteor.wrapAsync(exec);\n\n\tvar wifiSettingsPath = Meteor.settings.wifiSettingsPath;\n\tconst readline = require('readline');\n\n\n\tMeteor.methods({\n\n\t\t'adminSetNewPassword': function(adminId, userId, newPassword) { // Admin can forcibly change the password for a user\n\t\t\tif (Roles.userIsInRole(adminId, 'admin')) {\n\t\t\t\tAccounts.setPassword(userId, newPassword);\n\t\t\t}\n\t\t},\n\t\t'createAccount': function(email, password, profile) {\n\t\t\treturn Accounts.createUser({email:email,password:password,profile:profile}); // Callback is not supported on server-side\n\t\t},\n\t\t'editAccount': function(userId, email, password, profile) {\n\n\t\t\tif (password) {\n\t\t\t\tMeteor.users.update({_id: userId}, {\n\t  \t\t\t\t$set: {\n\t    \t\t\t\t'emails.0.address': email,\n\t    \t\t\t\tpassword: password,\n\t    \t\t\t\tprofile: profile\n\t  \t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tMeteor.users.update({_id: userId}, {\n\t  \t\t\t\t$set: {\n\t    \t\t\t\t'emails.0.address': email,\n\t    \t\t\t\tprofile: profile\n\t  \t\t\t\t}\n\t\t\t\t});\t\n\t\t\t}\n\t\t},\n\t\t'deleteUser': function(userId) {\n\t\t\tMeteor.users.remove(userId, function (error, result) {\n\t\t\t\tif (error) {\n\t\t\t\t\tconsole.log(\"Error when deleting user : \"+error.message);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t'addAdminRole': function(userId) {\n\t\t\tRoles.addUsersToRoles(userId, 'admin');\n\t\t},\n\t\t'removeAdminRole': function(userId) {\n\t\t\tRoles.removeUsersFromRoles(userId, 'admin');\n\t\t},\n\t\t'getUsedSpace': function() {\n\t\t\tvar res;\n\t\t\tres = cmd(\"df / -h | awk '{print ($3)}' | tail -1\") + \"/ \" + cmd(\"df / -h | awk '{print ($2)}' | tail -1\") + \" (\"+cmd(\"df / | awk '{print ($5)}' | tail -1\")+\"used)\";\n\t\t\treturn res;\n\t\t},\n\t\t'getSSID': function() {\n  \t\t\tvar data = fs.readFileSync(wifiSettingsPath, 'utf-8');\n  \t\t\tvar match = data.match(new RegExp('ssid=(.*)'));\n  \t\t\tvar SSID = match[1];\n  \t\t\tSSID = decodeURIComponent(SSID.replace(/../g, '%$&'))\n  \t\t\treturn SSID;\n\t\t},\n\t\t'setSSID': function(newSSID) {\n\t\t\tvar data = fs.readFileSync(wifiSettingsPath, 'utf-8');\n  \t\t\tconst encodedNewSSID = new Buffer(newSSID).toString('hex'); // Convert into Hex\n  \t\t\tvar newData = data.replace(data.match(new RegExp('ssid=(.*)'))[1], encodedNewSSID);\n\t\t\tfs.writeFileSync(wifiSettingsPath, newData, 'utf-8');\n\t\t},\n\t\t'getWifiPassword': function() {\n  \t\t\tvar data = fs.readFileSync(wifiSettingsPath, 'utf-8');\n  \t\t\tvar match = data.match(new RegExp('password=(.*)'));\n  \t\t\tvar password = match[1];\n  \t\t\treturn password;\n\t\t},\n\t\t'setWifiPassword': function(newPassword) {\n\t\t\tvar data = fs.readFileSync(wifiSettingsPath, 'utf-8');\n  \t\t\tvar newData = data.replace(data.match(new RegExp('password=(.*)'))[1], newPassword);\n\t\t\tfs.writeFileSync(wifiSettingsPath, newData, 'utf-8');\n\t\t},\n\t\t'getWifiChannel': function() {\n  \t\t\tvar data = fs.readFileSync(wifiSettingsPath, 'utf-8');\n  \t\t\tvar match = data.match(new RegExp('channel=(.*)'));\n  \t\t\tvar channel = match[1];\n  \t\t\treturn channel;\n\t\t},\n\t\t'setWifiChannel': function(newChannel) {\n\t\t\tvar data = fs.readFileSync(wifiSettingsPath, 'utf-8');\n  \t\t\tvar newData = data.replace(data.match(new RegExp('channel=(.*)'))[1], newChannel);\n\t\t\tfs.writeFileSync(wifiSettingsPath, newData, 'utf-8');\n\t\t},\n\t\t'getRemoteStatus': function() {\n\t\t\tvar res;\n\t\t\tres = cmd(\"systemctl is-active remote-iot.service >/dev/null 2>&1 && echo 1 || echo 0\");\n\t\t\tif (res[0] == \"1\") { // [0] is a hack because the result res has one extra character\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t},\n\t\t'getInternetSharingStatus': function() {\n\t\t\tvar res;\n\t\t\tres = cmd(\"sudo wifi-ap.config get share.disabled\");\n\n\t\t\tif (res.includes(\"true\")) {\n\t\t\t\tres = false;\n\t\t\t}\n\t\t\telse \n\t\t\t\tres = true;\n\t\t\n\t\t\treturn res;\n\t\t},\n\t\t'activateInternetSharing': function() {\n\t\t\tvar res;\n\t\t\tres = cmd(\"sudo wifi-ap.config set share.disabled=false\");\n\t\t\treturn res;\n\t\t},\n\t\t'disactivateInternetSharing': function() {\n\t\t\tvar res;\n\t\t\tres = cmd(\"sudo wifi-ap.config set share.disabled=true\");\n\t\t\treturn res;\n\t\t},\n\t\t'activateRemote': function() {\n\t\t\tvar res;\n\t\t\tres = cmd(\"sudo systemctl start remote-iot.service\");\n\t\t\tres2 = cmd(\"sudo systemctl enable remote-iot.service\");\n\t\t\treturn res;\n\t\t},\n\t\t'disactivateRemote': function() {\n\t\t\tvar res;\n\t\t\tres = cmd(\"sudo systemctl stop remote-iot.service\");\n\t\t\tres2 = cmd(\"sudo systemctl disable remote-iot.service\");\n\t\t\treturn res;\n\t\t},\n\t\t'getPiJuiceStatus': function() {\n\t\t\tvar res;\n\t\t\tvar scriptsPath = Meteor.settings.scriptsPath;\n\t\t\tres = cmd(\"python3 \"+scriptsPath+\"/pijuice_status.py\");\n\t\t\t//res = cmd(\"python3 /home/ubuntu/scripts/pijuice_status.py\");\n\t\t\treturn res;\n\t\t},\n\t\t'getEth0IP': function() { // Get IP of box\n\t\t\tvar res;\n\t\t\t//console.log(\"result : \"+\"ifconfig eth0 2>/dev/null|awk '/inet addr:/ {print $2}'|sed 's/addr://'\");\n\t\t\tres = cmd(\"ip addr show eth0 | grep \\\"inet\\b\\\" | awk '{print $2}' | cut -d/ -f1\");\n\n\t\t\t//res = cmd(\"ifconfig eth0 2>/dev/null|awk '/inet addr:/ {print $2}'|sed 's/addr://'\");\n\n\t\t\t//console.log(\"ip : \"+\"ip addr show eth0 | grep \\\"inet\\b\\\" | awk '{print $2}' | cut -d/ -f1\");\n\t\t\t//res = cmd(\"ip addr show eth0 | grep \\\"inet\\b\\\" | awk '{print $2}' | cut -d/ -f1\");\n\t\t\t//res = cmd(\"ifconfig \"+interface+\" 2>/dev/null|awk '/inet addr:/ {print $2}'|sed 's/addr://'\");\n\t\t\treturn res;\n\t\t},\n\t\t'getWwan0IP': function() { // Get IP of box\n\t\t\tvar res;\n\t\t\t//console.log(\"result : \"+\"ifconfig eth0 2>/dev/null|awk '/inet addr:/ {print $2}'|sed 's/addr://'\");\n\t\t\tres = cmd(\"ip addr show wwan0 | grep \\\"inet\\b\\\" | awk '{print $2}' | cut -d/ -f1\");\n\n\t\t\t//res = cmd(\"ifconfig eth0 2>/dev/null|awk '/inet addr:/ {print $2}'|sed 's/addr://'\");\n\n\t\t\t//console.log(\"ip : \"+\"ip addr show eth0 | grep \\\"inet\\b\\\" | awk '{print $2}' | cut -d/ -f1\");\n\t\t\t//res = cmd(\"ip addr show eth0 | grep \\\"inet\\b\\\" | awk '{print $2}' | cut -d/ -f1\");\n\t\t\t//res = cmd(\"ifconfig \"+interface+\" 2>/dev/null|awk '/inet addr:/ {print $2}'|sed 's/addr://'\");\n\t\t\treturn res;\n\t\t},\n\t\t'getVersion': function() {\n\t\t\tjson = JSON.parse(Assets.getText(\"version.json\"));\n\t\t\treturn json.version;\n\t\t}\n\t});\n}\n});","// Meteor.publish('allApps', function() {\n// \treturn Apps.find({});\n// });\n\n// Meteor.publish(\"users\", function() {\n//     return Meteor.users.find({}, {fields:{createdAt: true, profile: true, emails: true, username: true}});\n// });\n\n\n  Meteor.publish('allUsers', function () {\n  \tconsole.log(\"users: \"+Meteor.users.find().count());\n    return Meteor.users.find();\n  });","import { Meteor } from 'meteor/meteor';\n\nimport '../imports/api/apps.js';\nimport '../imports/api/users.js';\n\nimport '../server/fixtures.js';\nimport '../server/methods.js';\nimport '../server/publications.js';\nimport '../lib/app_loader.js';\n\n\n//import {DDP} from 'meteor/ddp';\n//import {Accounts} from 'meteor/accounts-base';\n\n\n// import '../imports/startup/server/fixtures.js';\n\n// import '../imports/api/fixtures.js';\n\n\nMeteor.startup(() => {\n\tconsole.log(\"meteor started...\");\n\n\n\n  // code to run on server at startup\n\n //  Server2 = DDP.connect(\"http://beekee.box:83\");\n\t// Accounts.connection = Server2;\n\t// console.log(\"on connecte...\");\n});\n"]}